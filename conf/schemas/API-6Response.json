{ 
  "$schema": "http://json-schema.org/draft-04/schema#", 
  "title": "Request Trust/Estate Subscription - Response Schema", 
  "description": "Request Trust/Estate Subscription - Response Schema", 
  "type": "object", 
  "oneOf": [ 
    { 
      "$ref": "#/definitions/successResponse" 
    }, 
    { 
      "$ref": "#/definitions/failureResponse" 
    } 
  ], 
  "definitions": { 
    "successResponse": { 
      "properties": { 
        "subscriptionId":
        { 
          "description": "Subscripton Identifier", 
          "type": "string", 
          "minLength": 1,
          "maxLength": 12
        } 
      }, 
      "required": [ "subscriptionId" ], 
      "additionalProperties": false 
    }, 
    "failureResponse": { 
      "description": "DES Failure Response Schema", 
      "type": "object", 
      "oneOf": [ 
        { 
          "$ref": "#/definitions/failureResponseElement" 
        }, 
        { 
          "$ref": "#/definitions/failureResponseArray" 
        } 
      ] 
    }, 
    "failureResponseArray": { 
      "type": "object", 
      "properties": { 
        "failures": { 
          "type": "array", 
          "minItems": 2, 
          "uniqueItems": true,
          "items":
          {
            "$ref": "#/definitions/failureResponseElement" 
          } 
        } 
      }, 
      "additionalProperties": false 
    }, 
    "failureResponseElement": { 
      "type": "object", 
      "properties": { 
        "code": { 
          "type": "string", 
          "enum": [ 
            "INVALID_TRN", 
            "NOT_FOUND", 
            "SERVER_ERROR",
            "SERVICE_UNAVAILABLE" 
          ],
          "description": "Keys for all the failure scenarios."
        },
        "reason": { 
          "type": "string",
          "minLength": 1, 
          "maxLength": 160,
          "description": "A simple description for the failure" 
        } 
      }, 
      "required": [ 
        "code", 
        "reason" 
      ], 
      "additionalProperties": false 
    } 
  }
 }
